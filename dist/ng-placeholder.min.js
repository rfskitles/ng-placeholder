var ngPlaceholder=function(e,t){"use strict";function n(e,t,n){return{restrict:"AE",transclude:"element",link:function(i,o,l,r,a){var p,c,u=l.ngPlaceholder,f=parseInt(l.placeholderRepeats,10)||1,s=e(n.getTemplate(u,f))(i);t.enter(s,o.parent(),o),l.$observe("placeholderShowUntil",function(e){"true"===e&&a(function(e,n){p=n,c=e,t.leave(s),t.enter(e,o.parent(),o)}),"false"===e&&p&&(p.$destroy(),p=null,t.leave(c),c=null,t.enter(s,o.parent(),o))})}}}var i=function(){function e(e,t,n){void 0===e&&(e=[]),void 0===n&&(n=!0),this.configs=e,this.default=t,this.enable=n}return e.prototype.getTemplates=function(){return this.configs},e.prototype.getDefaultTemplate=function(){return this.default},e.prototype.isEnabled=function(){return this.enable},e}(),o=function(){function e(){this.active=!0,this.configs=new Array,this.defaultConfig={template_id:"default",template_html:"<p>Loading...</p>",template_repeats:1}}return e.prototype.addConfig=function(e){this.configs.push(e)},e.prototype.setConfigs=function(e){this.configs=this.configs.concat(e)},e.prototype.setDefaultConfig=function(e){this.defaultConfig=e},e.prototype.enable=function(){this.active=!0},e.prototype.disable=function(){this.active=!1},e.prototype.$get=function(){return new i(this.configs,this.defaultConfig,this.active)},e}(),l=function(){function e(e,t){var n=t.getDefaultTemplate(),i=this.buildConfig(n.template_id,n.template_html,n.template_repeats);this.configs=this.compileConfigs(t.getTemplates(),e),this.defaultConfig=i}return e.prototype.getTemplateHtml=function(e,t){return t.get(e)},e.prototype.repeatTemplate=function(e,t){for(var n="",i=0;i<t;i++)n+=e;return n},e.prototype.buildConfig=function(e,t,n){return{template_id:e,template_html:t,template_repeat:n,template_compiled:this.repeatTemplate(t,n)}},e.prototype.compileConfigs=function(e,t){var n,i,o,l,r=this,a=new Array;return e.forEach(function(e){i=e.template_id,o=r.getTemplateHtml(e.template_path,t)||e.template_html,l=e.template_repeats||1,n=r.buildConfig(i,o,l),a.push(n)}),a},e.prototype.isRepeatTemplate=function(e,t){return!(e.template_repeat===t||angular.isUndefined(t))},e.prototype.getTemplate=function(e,t){for(var n,i=this,o=0;o<this.configs.length;o++)if((n=this.configs[o]).template_id===e)return this.isRepeatTemplate(n,t)?this.repeatTemplate(n.template_html,t):n.template_compiled;return angular.copy(i.defaultConfig.template_compiled)},e}();l.$inject=["$templateCache","ngPlaceholderConfig"],n.$inject=["$compile","$animate","ngPlaceholderService"];var r=function(){return function(e,t){return t.isEnabled()?e:{}}}();return r.$inject=["$delegate","ngPlaceholderConfig"],e.Placeholder||(e.Placeholder={}),t.module("ngPlaceholder",[]),t.module("ngPlaceholder").provider("ngPlaceholderConfig",o),t.module("ngPlaceholder").service("ngPlaceholderService",l),t.module("ngPlaceholder").directive("ngPlaceholder",n),t.module("ngPlaceholder").decorator("ngPlaceholderDirective",r),e}({},angular);
